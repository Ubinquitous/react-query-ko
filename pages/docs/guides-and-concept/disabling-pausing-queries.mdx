---
id: disabling-queries
title: Disabling/Pausing Queries
---

## Disabling/Pausing Queries

ì¿¼ë¦¬ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì›í•˜ì§€ ì•Šì„ ë•Œ, `enabled = false` ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. `enabled` ì˜µì…˜ì€ booleanì„ ë°˜í™˜í•˜ëŠ” ì½œë°±ì„ ë°›ì•„ë“¤ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

`enabled`ê°€ `false`ì¼ ë•Œ:

- ì¿¼ë¦¬ì— ìºì‹œëœ ë°ì´í„°ê°€ ìˆìœ¼ë©´, ì¿¼ë¦¬ëŠ” `status === 'success'` ë˜ëŠ” `isSuccess` ìƒíƒœë¡œ ì´ˆê¸°í™”ë©ë‹ˆë‹¤.
- ì¿¼ë¦¬ì— ìºì‹œëœ ë°ì´í„°ê°€ ì—†ìœ¼ë©´, ì¿¼ë¦¬ëŠ” `status === 'pending'` ë° `fetchStatus === 'idle'` ìƒíƒœë¡œ ì‹œì‘ë©ë‹ˆë‹¤.
- ì¿¼ë¦¬ëŠ” ìë™ìœ¼ë¡œ ë§ˆìš´íŠ¸ ì‹œì— fetchë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì¿¼ë¦¬ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ìë™ìœ¼ë¡œ refetchë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì¿¼ë¦¬ëŠ” ì¿¼ë¦¬ í´ë¼ì´ì–¸íŠ¸ì˜ `invalidateQueries` ë° `refetchQueries` í˜¸ì¶œì„ ë¬´ì‹œí•©ë‹ˆë‹¤. ì´ í˜¸ì¶œë“¤ì€ ì¼ë°˜ì ìœ¼ë¡œ ì¿¼ë¦¬ê°€ refetchë˜ëŠ” ê²°ê³¼ë¥¼ ì´ˆë˜í•©ë‹ˆë‹¤.
- `useQuery`ì—ì„œ ë°˜í™˜ëœ `refetch`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ìˆ˜ë™ìœ¼ë¡œ trigger í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ `skipToken`ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ë©´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

> Typescript ì‚¬ìš©ìëŠ” `enabled = false` ëŒ€ì‹  [skipToken](#typesafe-disabling-of-queries-using-skiptoken)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ í˜¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œ:

'''tsx
function Todos() {
const { isLoading, isError, data, error, refetch, isFetching } = useQuery({
queryKey: ['todos'],
queryFn: fetchTodoList,
enabled: false,
})

return (
<div>
<button onClick={() => refetch()}>Fetch Todos</button>

      {data ? (
        <>
          <ul>
            {data.map((todo) => (
              <li key={todo.id}>{todo.title}</li>
            ))}
          </ul>
        </>
      ) : isError ? (
        <span>Error: {error.message}</span>
      ) : isLoading ? (
        <span>Loading...</span>
      ) : (
        <span>Not ready ...</span>
      )}

      <div>{isFetching ? 'Fetching...' : null}</div>
    </div>

)
}
'''

ì¿¼ë¦¬ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ë¹„í™œì„±í™”í•˜ë©´ TanStack Queryì˜ ë§ì€ ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ (ì˜ˆ: ë°±ê·¸ë¼ìš´ë“œ refetch ë“±)ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. ë˜í•œ ì´ëŠ” ì„ ì–¸ì  ì ‘ê·¼ ë°©ì‹ì—ì„œ ëª…ë ¹ì  ëª¨ë“œë¡œ ì „í™˜ë©ë‹ˆë‹¤ (ì—¬ê¸°ì„œ í´ë¦­ ì‹œ fetch ì‹¤í–‰). `refetch`ì— íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒë„ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ìì£¼ ì›í•˜ëŠ” ê²ƒì€ ì´ˆê¸° fetchë¥¼ ì§€ì—°ì‹œí‚¤ëŠ” lazy queryì…ë‹ˆë‹¤.

## Lazy Queries

`enabled` ì˜µì…˜ì€ ì¿¼ë¦¬ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ë¹„í™œì„±í™”í•˜ëŠ” ê²ƒ ì™¸ì—ë„, ë‚˜ì¤‘ì— ì¿¼ë¦¬ë¥¼ í™œì„±í™”/ë¹„í™œì„±í™” í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¢‹ì€ ì˜ˆëŠ” ì‚¬ìš©ìê°€ í•„í„° ê°’ì„ ì…ë ¥í•  ë•Œë§Œ ì²« ë²ˆì§¸ ìš”ì²­ì„ ì‹¤í–‰í•˜ê³  ì‹¶ì€ í•„í„° í¼ì…ë‹ˆë‹¤:

ì˜ˆì‹œ:

'''tsx
function Todos() {
const [filter, setFilter] = React.useState('')

const { data } = useQuery({
queryKey: ['todos', filter],
queryFn: () => fetchTodos(filter),
// â¬‡ï¸ í•„í„°ê°€ ë¹„ì–´ ìˆëŠ” ë™ì•ˆ ë¹„í™œì„±í™”
enabled: !!filter,
})

return (
<div>
// ğŸš€ í•„í„°ë¥¼ ì ìš©í•˜ë©´ ì¿¼ë¦¬ê°€ í™œì„±í™”ë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤
<FiltersForm onApply={setFilter} />
{data && <TodosTable data={data} />}
</div>
)
}
'''

### isLoading (Previously: `isInitialLoading`)

Lazy queriesëŠ” ì‹œì‘ë¶€í„° `status: 'pending'` ìƒíƒœì— ìˆìŠµë‹ˆë‹¤. `pending`ì€ ë°ì´í„°ê°€ ì•„ì§ ì—†ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ê¸°ìˆ ì ìœ¼ë¡œ ë§ì§€ë§Œ, í˜„ì¬ ë°ì´í„°ë¥¼ fetchí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— (ì¿¼ë¦¬ê°€ _í™œì„±í™”ë˜ì§€ ì•ŠìŒ_) ì´ í”Œë˜ê·¸ë¥¼ ë¡œë”© ìŠ¤í”¼ë„ˆë¥¼ í‘œì‹œí•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜ ì—†ì„ ê²ƒì…ë‹ˆë‹¤.

ë¹„í™œì„±í™”ë˜ê±°ë‚˜ lazy ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” `isLoading` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í”Œë˜ê·¸ëŠ” ë‹¤ìŒìœ¼ë¡œë¶€í„° ê³„ì‚°ëœ ê°’ì…ë‹ˆë‹¤:

`isPending && isFetching`

ë”°ë¼ì„œ ì¿¼ë¦¬ê°€ ì²˜ìŒìœ¼ë¡œ fetch ì¤‘ì¼ ë•Œë§Œ trueê°€ ë©ë‹ˆë‹¤.

## Typesafe disabling of queries using `skipToken`

TypeScriptë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, `skipToken`ì„ ì‚¬ìš©í•˜ì—¬ ì¿¼ë¦¬ë¥¼ ë¹„í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì¡°ê±´ì— ë”°ë¼ ì¿¼ë¦¬ë¥¼ ë¹„í™œì„±í™”í•˜ê³  ì‹¶ì§€ë§Œ, ì¿¼ë¦¬ë¥¼ íƒ€ì… ì•ˆì „í•˜ê²Œ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

> ì¤‘ìš”: `useQuery`ì˜ `refetch`ëŠ” `skipToken`ê³¼ í•¨ê»˜ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ ì™¸ì—ëŠ” `skipToken`ì€ `enabled: false`ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

ì˜ˆì‹œ:

'''tsx
function Todos() {
const [filter, setFilter] = React.useState<string | undefined>()

const { data } = useQuery({
queryKey: ['todos', filter],
// â¬‡ï¸ í•„í„°ê°€ undefinedì´ê±°ë‚˜ ë¹„ì–´ ìˆëŠ” ë™ì•ˆ ë¹„í™œì„±í™”
queryFn: filter ? () => fetchTodos(filter) : skipToken,
})

return (
<div>
// ğŸš€ í•„í„°ë¥¼ ì ìš©í•˜ë©´ ì¿¼ë¦¬ê°€ í™œì„±í™”ë˜ê³  ì‹¤í–‰ë©ë‹ˆë‹¤
<FiltersForm onApply={setFilter} />
{data && <TodosTable data={data} />}
</div>
)
}
'''
